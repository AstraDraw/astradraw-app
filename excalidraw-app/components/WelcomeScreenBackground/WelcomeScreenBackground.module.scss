/**
 * Animated Nebula Blob Layer for Welcome Screen
 * =============================================
 *
 * This is the BLOB LAYER of the galaxy background effect.
 * It renders floating gradient blobs that create a nebula cloud effect.
 *
 * RELATIONSHIP WITH WelcomeScreen.scss:
 * This file styles the WelcomeScreenBackground React component, which
 * creates a middle layer (z-index: 1) of floating blobs. The deeper
 * background layers (nebula gradients and stars) are defined in
 * packages/excalidraw/components/welcome-screen/WelcomeScreen.scss
 * using CSS pseudo-elements (::before and ::after).
 *
 * LAYER STACK:
 * - z-index: -2 → Deep nebula gradients (WelcomeScreen.scss ::before)
 * - z-index: -1 → Star field with twinkling (WelcomeScreen.scss ::after)
 * - z-index: 1  → Floating blobs (this file) ← YOU ARE HERE
 * - z-index: auto → Welcome screen content
 *
 * BLOB ANIMATIONS:
 * - 4 blobs with different sizes, positions, and animation timings
 * - Each blob floats in a unique pattern (float1, float2, float3, float4)
 * - Blurred with filter: blur(100px) for soft nebula effect
 * - Uses AstraDraw brand colors: purple (#674CDC) and blue (#1E8CE5)
 *
 * VISIBILITY:
 * - Only visible in dark mode (component returns null in light mode)
 * - Hidden on mobile (max-width: 768px) for performance
 */

.background {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 1;
  overflow: hidden;
  pointer-events: none;
  // Debug: add visible background to confirm rendering
  // background: rgba(255, 0, 0, 0.3);
}

// Nebula container
.nebula {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  filter: blur(100px);
  opacity: 0.6;
}

// Individual animated blobs
.blob {
  position: absolute;
  border-radius: 50%;
  // Removed mix-blend-mode: screen - it makes colors invisible on dark backgrounds
}

// Blob 1 - Large purple, top-left
.blob1 {
  width: 60vw;
  height: 60vw;
  max-width: 800px;
  max-height: 800px;
  top: -20%;
  left: -10%;
  background: radial-gradient(
    circle,
    rgba(103, 76, 220, 0.8) 0%,
    rgba(103, 76, 220, 0.4) 40%,
    transparent 70%
  );
  animation: float1 45s ease-in-out infinite;
}

// Blob 2 - Medium blue, top-right
.blob2 {
  width: 50vw;
  height: 50vw;
  max-width: 600px;
  max-height: 600px;
  top: -10%;
  right: -15%;
  background: radial-gradient(
    circle,
    rgba(30, 140, 229, 0.8) 0%,
    rgba(30, 140, 229, 0.4) 40%,
    transparent 70%
  );
  animation: float2 50s ease-in-out infinite;
}

// Blob 3 - Small purple-pink, bottom-left
.blob3 {
  width: 40vw;
  height: 40vw;
  max-width: 500px;
  max-height: 500px;
  bottom: -15%;
  left: 10%;
  background: radial-gradient(
    circle,
    rgba(140, 76, 220, 0.7) 0%,
    rgba(103, 76, 220, 0.3) 40%,
    transparent 70%
  );
  animation: float3 55s ease-in-out infinite;
}

// Blob 4 - Large blue-cyan, bottom-right
.blob4 {
  width: 55vw;
  height: 55vw;
  max-width: 700px;
  max-height: 700px;
  bottom: -25%;
  right: -5%;
  background: radial-gradient(
    circle,
    rgba(30, 180, 229, 0.6) 0%,
    rgba(30, 140, 229, 0.3) 40%,
    transparent 70%
  );
  animation: float4 60s ease-in-out infinite;
}

// Subtle star field overlay
.stars {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-image: radial-gradient(
      2px 2px at 20px 30px,
      rgba(255, 255, 255, 0.3),
      transparent
    ),
    radial-gradient(2px 2px at 40px 70px, rgba(255, 255, 255, 0.2), transparent),
    radial-gradient(1px 1px at 90px 40px, rgba(255, 255, 255, 0.4), transparent),
    radial-gradient(
      2px 2px at 130px 80px,
      rgba(255, 255, 255, 0.2),
      transparent
    ),
    radial-gradient(
      1px 1px at 160px 120px,
      rgba(255, 255, 255, 0.3),
      transparent
    ),
    radial-gradient(
      2px 2px at 200px 50px,
      rgba(255, 255, 255, 0.25),
      transparent
    ),
    radial-gradient(
      1px 1px at 250px 150px,
      rgba(255, 255, 255, 0.35),
      transparent
    ),
    radial-gradient(
      2px 2px at 300px 100px,
      rgba(255, 255, 255, 0.2),
      transparent
    );
  background-size: 350px 200px;
  animation: twinkle 8s ease-in-out infinite alternate;
  opacity: 0.6;
}

// Floating animations - slow and smooth like macOS
@keyframes float1 {
  0%,
  100% {
    transform: translate(0, 0) scale(1);
  }
  25% {
    transform: translate(5%, 10%) scale(1.05);
  }
  50% {
    transform: translate(10%, 5%) scale(0.95);
  }
  75% {
    transform: translate(3%, -5%) scale(1.02);
  }
}

@keyframes float2 {
  0%,
  100% {
    transform: translate(0, 0) scale(1);
  }
  25% {
    transform: translate(-8%, 5%) scale(0.98);
  }
  50% {
    transform: translate(-5%, 12%) scale(1.04);
  }
  75% {
    transform: translate(3%, 8%) scale(0.96);
  }
}

@keyframes float3 {
  0%,
  100% {
    transform: translate(0, 0) scale(1);
  }
  25% {
    transform: translate(10%, -8%) scale(1.03);
  }
  50% {
    transform: translate(5%, -12%) scale(0.97);
  }
  75% {
    transform: translate(-5%, -5%) scale(1.01);
  }
}

@keyframes float4 {
  0%,
  100% {
    transform: translate(0, 0) scale(1);
  }
  25% {
    transform: translate(-10%, -5%) scale(0.95);
  }
  50% {
    transform: translate(-5%, 8%) scale(1.03);
  }
  75% {
    transform: translate(5%, 3%) scale(0.98);
  }
}

@keyframes twinkle {
  0% {
    opacity: 0.4;
  }
  100% {
    opacity: 0.7;
  }
}

// Hide on small screens (mobile)
@media (max-width: 768px) {
  .background {
    display: none !important;
  }
}

