.workspace-sidebar-trigger {
  // No fixed positioning - rendered inside top-left UI via tunnel
  display: flex;
  align-items: center;

  &__button {
    display: flex;
    align-items: center;
    justify-content: center;
    width: var(--lg-button-size, 36px);
    height: var(--lg-button-size, 36px);
    padding: 0;
    background: var(--color-surface-low, var(--island-bg-color, #fff));
    border: none;
    border-radius: 8px;
    cursor: pointer;
    color: var(--color-on-surface, var(--icon-fill-color, #5f5f5f));
    transition: background-color 0.15s, color 0.15s;
    box-shadow: 0 0 0 1px
      var(--color-surface-lowest, var(--default-border-color, #e5e5e5));

    &:hover {
      background: var(
        --color-surface-high,
        var(--button-hover-bg, rgba(0, 0, 0, 0.05))
      );
      color: var(--color-primary, var(--text-primary-color, #6965db));
    }

    &:active {
      box-shadow: 0 0 0 1px var(--color-brand-active, #6965db);
    }

    &--active {
      background: var(--color-primary-light, #f0f0ff);
      box-shadow: 0 0 0 1px var(--color-primary, #6965db);
      color: var(--color-primary, #6965db);

      &:hover {
        background: var(--color-primary-light, #f0f0ff);
        color: var(--color-primary, #6965db);
      }
    }

    &--authenticated {
      position: relative;

      // Show a subtle indicator when user is logged in
      &::after {
        content: "";
        position: absolute;
        bottom: 2px;
        right: 2px;
        width: 8px;
        height: 8px;
        background: var(--color-success, #2e9e6e);
        border: 2px solid var(--color-surface-low, var(--island-bg-color, #fff));
        border-radius: 50%;
      }
    }

    svg {
      width: 20px;
      height: 20px;
      flex: 0 0 auto;
    }
  }
}

// Dark mode
.excalidraw.theme--dark {
  .workspace-sidebar-trigger {
    &__button {
      background: var(--color-surface-low, var(--island-bg-color, #232329));
      box-shadow: 0 0 0 1px
        var(--color-surface-lowest, var(--default-border-color, #3d3d3d));
      color: var(--color-on-surface, var(--icon-fill-color, #a0a0a0));

      &:hover {
        background: var(
          --color-surface-high,
          var(--button-hover-bg, rgba(255, 255, 255, 0.1))
        );
        color: var(--color-primary-light, var(--text-primary-color, #a5a1ff));
      }

      &--active {
        background: var(--color-primary-dark, #3d3d5c);
        box-shadow: 0 0 0 1px var(--color-primary-light, #a5a1ff);
        color: var(--color-primary-light, #a5a1ff);

        &:hover {
          background: var(--color-primary-dark, #3d3d5c);
          color: var(--color-primary-light, #a5a1ff);
        }
      }

      &--authenticated::after {
        border-color: var(--color-surface-low, var(--island-bg-color, #232329));
      }
    }
  }
}
